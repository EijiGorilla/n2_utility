"use strict";(self.webpackChunkn2_utility=self.webpackChunkn2_utility||[]).push([[7858,7661],{88396:(e,t,r)=>{r.d(t,{a:()=>i,f:()=>s,n:()=>o});var n=r(18722);function o(e,t){i(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function i(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;const i=t.length/2;let s=0,l=0;if((0,n.kJ)(t)||(0,n.Q7)(t)){for(let n=0;n<i;++n)e[s]=t[l],e[s+1]=t[l+1],s+=r,l+=o;return}const u=(0,n.Op)(t);if((0,n.B3)(t))for(let n=0;n<i;++n)e[s]=Math.max(t[l]/u,-1),e[s+1]=Math.max(t[l+1]/u,-1),s+=r,l+=o;else for(let n=0;n<i;++n)e[s]=t[l]/u,e[s+1]=t[l+1]/u,s+=r,l+=o}function s(e,t,r,n){var o,i;const s=e.typedBuffer,l=e.typedBufferStride,u=null!==(o=null===n||void 0===n?void 0:n.count)&&void 0!==o?o:e.count;let a=(null!==(i=null===n||void 0===n?void 0:n.dstIndex)&&void 0!==i?i:0)*l;for(let c=0;c<u;++c)s[a]=t,s[a+1]=r,a+=l}Object.freeze(Object.defineProperty({__proto__:null,fill:s,normalizeIntegerBuffer:i,normalizeIntegerBufferView:o},Symbol.toStringTag,{value:"Module"}))},69618:(e,t,r)=>{function n(e,t){o(e.typedBuffer,t,e.typedBufferStride)}function o(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;const n=t.typedBuffer,o=t.typedBufferStride,i=t.count;let s=0,l=0;for(let u=0;u<i;++u)e[s]=n[l],e[s+1]=n[l+1],e[s+2]=n[l+2],e[s+3]=n[l+3],s+=r,l+=o}function i(e,t,r,n,o,i){var s,l;const u=e.typedBuffer,a=e.typedBufferStride,c=null!==(s=null===i||void 0===i?void 0:i.count)&&void 0!==s?s:e.count;let d=(null!==(l=null===i||void 0===i?void 0:i.dstIndex)&&void 0!==l?l:0)*a;for(let f=0;f<c;++f)u[d]=t,u[d+1]=r,u[d+2]=n,u[d+3]=o,d+=a}r.d(t,{a:()=>o,c:()=>n,f:()=>i});Object.freeze(Object.defineProperty({__proto__:null,copy:o,copyView:n,fill:i},Symbol.toStringTag,{value:"Module"}))},71277:(e,t,r)=>{function n(e){return e=e||globalThis.location.hostname,a.some((t=>{var r;return null!=(null===(r=e)||void 0===r?void 0:r.match(t))}))}function o(e,t){return e?(t=t||globalThis.location.hostname)?null!=t.match(i)||null!=t.match(l)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(s)||null!=t.match(u)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e:null}r.d(t,{XO:()=>n,pJ:()=>o});const i=/^devext\.arcgis\.com$/,s=/^qaext\.arcgis\.com$/,l=/^[\w-]*\.mapsdevext\.arcgis\.com$/,u=/^[\w-]*\.mapsqa\.arcgis\.com$/,a=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local\.esri\.com$/,i,s,/^jsapps\.esri\.com$/,l,u]},99760:(e,t,r)=>{r.d(t,{i:()=>s});var n=r(21389),o=r(30932),i=r(29303);function s(e){if(null==e)return null;const t=null!=e.offset?e.offset:o.AG,r=null!=e.rotation?e.rotation:0,s=null!=e.scale?e.scale:o.hq,l=(0,n.al)(1,0,0,0,1,0,t[0],t[1],1),u=(0,n.al)(Math.cos(r),-Math.sin(r),0,Math.sin(r),Math.cos(r),0,0,0,1),a=(0,n.al)(s[0],0,0,0,s[1],0,0,0,1),c=(0,n.Ue)();return(0,i.Jp)(c,u,a),(0,i.Jp)(c,l,c),c}},32315:(e,t,r)=>{r.d(t,{p:()=>s});var n=r(18722),o=r(39406),i=r(8548);function s(e,t){switch(t){case i.MX.TRIANGLES:return"number"==typeof(r=e)?(0,o.KF)(r):(0,n.lq)(r)?new Uint16Array(r):r;case i.MX.TRIANGLE_STRIP:return function(e){const t="number"==typeof e?e:e.length;if(t<3)return[];const r=t-2,n=(0,o.$z)(3*r);if("number"==typeof e){let e=0;for(let t=0;t<r;t+=1)t%2==0?(n[e++]=t,n[e++]=t+1,n[e++]=t+2):(n[e++]=t+1,n[e++]=t,n[e++]=t+2)}else{let t=0;for(let o=0;o<r;o+=1)o%2==0?(n[t++]=e[o],n[t++]=e[o+1],n[t++]=e[o+2]):(n[t++]=e[o+1],n[t++]=e[o],n[t++]=e[o+2])}return n}(e);case i.MX.TRIANGLE_FAN:return function(e){const t="number"==typeof e?e:e.length;if(t<3)return new Uint16Array(0);const r=t-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if("number"==typeof e){let e=0;for(let t=0;t<r;++t)n[e++]=0,n[e++]=t+1,n[e++]=t+2;return n}const o=e[0];let i=e[1],s=0;for(let l=0;l<r;++l){const t=e[l+2];n[s++]=o,n[s++]=i,n[s++]=t,i=t}return n}(e)}var r}},57661:(e,t,r)=>{r.d(t,{$A:()=>s,Ml:()=>u,NM:()=>i,i$:()=>l});var n=r(93169),o=r(68401);class i{constructor(e){this.data=e,this.type="encoded-mesh-texture",this.encoding=o.Ti.KTX2_ENCODING}}function s(e){return"encoded-mesh-texture"===(null===e||void 0===e?void 0:e.type)}async function l(e){const t=new Blob([e]),r=await t.text();return JSON.parse(r)}async function u(e,t){if(t===o.Ti.KTX2_ENCODING)return new i(e);const r=new Blob([e],{type:t}),s=URL.createObjectURL(r),l=new Image;if((0,n.Z)("esri-iPhone"))return new Promise(((e,t)=>{const r=()=>{o(),e(l)},n=e=>{o(),t(e)},o=()=>{URL.revokeObjectURL(s),l.removeEventListener("load",r),l.removeEventListener("error",n)};l.addEventListener("load",r),l.addEventListener("error",n),l.src=s}));try{l.src=s,await l.decode()}catch(u){console.warn("Failed decoding HTMLImageElement")}return URL.revokeObjectURL(s),l}},47858:(e,t,r)=>{r.d(t,{fetch:()=>_});var n=r(71277),o=r(16889),i=r(29303),s=r(21389),l=r(29134),u=r(7025),a=r(6644),c=r(32035),d=r(12400),f=r(41414),m=r(38461),p=r(25158),h=r(11186),x=r(6754),g=r(88396),v=r(92770),y=r(69618),b=r(27053),T=r(32315),w=r(57661),B=r(99760);class R{constructor(){this.geometries=new Array,this.materials=new Array,this.textures=new Array}}class S{constructor(e,t,r){this.name=e,this.lodThreshold=t,this.pivotOffset=r,this.stageResources=new R,this.numberOfVertices=0}}var M=r(13041),A=r(16010),O=r(91526),E=r(68401),I=r(2952),L=r(1487),F=r(4760),N=r(72969),C=r(68845),U=r(45856);async function _(e,t){var s;const R=function(e){const t=e.match(/(.*\.(gltf|glb))(\?lod=([0-9]+))?$/);return t?{fileType:"gltf",url:t[1],specifiedLodIndex:null!=t[4]?Number(t[4]):null}:e.match(/(.*\.(json|json\.gz))$/)?{fileType:"wosr",url:e,specifiedLodIndex:null}:{fileType:"unknown",url:e,specifiedLodIndex:null}}((0,n.pJ)(e));if("wosr"===R.fileType){const e=await(t.cache?t.cache.loadWOSR(R.url,t):(0,M.zD)(R.url,t)),{engineResources:r,referenceBoundingBox:n}=(0,M.p2)(e,t);return{lods:r,referenceBoundingBox:n,isEsriSymbolResource:!1,isWosr:!0}}let _;if(t.cache)_=await t.cache.loadGLTF(R.url,t,!!t.usePBR);else{const{loadGLTF:e}=await r.e(7516).then(r.bind(r,57516));_=await e(new b.C(t.streamDataRequester),R.url,t,t.usePBR)}const J=null===(s=_.model.meta)||void 0===s?void 0:s.ESRI_proxyEllipsoid,P=_.meta.isEsriSymbolResource&&null!=J&&"EsriRealisticTreesStyle"===_.meta.ESRI_webstyle;P&&!_.customMeta.esriTreeRendering&&(_.customMeta.esriTreeRendering=!0,function(e,t){for(let r=0;r<e.model.lods.length;++r){const n=e.model.lods[r];for(const o of n.parts){const n=o.attributes.normal;if(null==n)return;const i=o.attributes.position,s=i.count,a=(0,d.Ue)(),f=(0,d.Ue)(),m=(0,d.Ue)(),h=new Uint8Array(4*s),x=new Float64Array(3*s),g=(0,l.U_)((0,u.Ue)(),o.transform);let v=0,y=0;for(let l=0;l<s;l++){i.getVec(l,f),n.getVec(l,a),(0,c.t)(f,f,o.transform),(0,c.d)(m,f,t.center),(0,c.E)(m,m,t.radius);const s=m[2],u=(0,c.l)(m),d=Math.min(.45+.55*u*u,1);(0,c.E)(m,m,t.radius),null!==g&&(0,c.t)(m,m,g),(0,c.n)(m,m),r+1!==e.model.lods.length&&e.model.lods.length>1&&(0,c.m)(m,m,a,s>-1?.2:Math.min(-4*s-3.8,1)),x[v]=m[0],x[v+1]=m[1],x[v+2]=m[2],v+=3,h[y]=255*d,h[y+1]=255*d,h[y+2]=255*d,h[y+3]=255,y+=4}o.attributes.normal=new p.ct(x),o.attributes.color=new p.mc(h)}}}(_,J));const $=!!t.usePBR,k=_.meta.isEsriSymbolResource?{usePBR:$,isSchematic:!1,treeRendering:P,mrrFactors:U.eP}:{usePBR:$,isSchematic:!1,treeRendering:!1,mrrFactors:U.xq},G={...t.materialParameters,treeRendering:P},{engineResources:q,referenceBoundingBox:V}=function(e,t,r,n,s){const l=e.model,u=new Array,c=new Map,d=new Map,b=l.lods.length,R=(0,f.cS)();return l.lods.forEach(((e,M)=>{const _=!0===n.skipHighLods&&(b>1&&0===M||b>3&&1===M)||!1===n.skipHighLods&&null!=s&&M!==s;if(_&&0!==M)return;const J=new S(e.name,e.lodThreshold,[0,0,0]);e.parts.forEach((e=>{const s=_?new N.Gp({},n):function(e,t,r,n,o,i,s,l){const u=t.material+(t.attributes.normal?"_normal":"")+(t.attributes.color?"_color":"")+(t.attributes.texCoord0?"_texCoord0":"")+(t.attributes.tangent?"_tangent":""),c=e.materials.get(t.material),d=null!=t.attributes.texCoord0,f=null!=t.attributes.normal;if(null==c)return null;const m=function(e){switch(e){case"BLEND":return E.JJ.Blend;case"MASK":return E.JJ.Mask;case"OPAQUE":case null:case void 0:return E.JJ.Opaque}}(c.alphaMode);if(!i.has(u)){var p,h;if(d){const t=function(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=t&&!s.has(t)){const n=e.textures.get(t);if(null!=n){const e=n.data;s.set(t,new L.x((0,w.$A)(e)?e.data:e,{...n.parameters,preMultiplyAlpha:!(0,w.$A)(e)&&r,encoding:(0,w.$A)(e)&&null!=e.encoding?e.encoding:void 0}))}}};t(c.textureColor,m!==E.JJ.Opaque),t(c.textureNormal),t(c.textureOcclusion),t(c.textureEmissive),t(c.textureMetallicRoughness)}const r=c.color[0]**(1/C.j),x=c.color[1]**(1/C.j),g=c.color[2]**(1/C.j),v=c.emissiveFactor[0]**(1/C.j),y=c.emissiveFactor[1]**(1/C.j),b=c.emissiveFactor[2]**(1/C.j),T=null!=c.textureColor&&d?s.get(c.textureColor):null,R=(0,U.Ih)({normalTexture:c.textureNormal,metallicRoughnessTexture:c.textureMetallicRoughness,metallicFactor:c.metallicFactor,roughnessFactor:c.roughnessFactor,emissiveTexture:c.textureEmissive,emissiveFactor:c.emissiveFactor,occlusionTexture:c.textureOcclusion}),S=null!=(null===(p=c.normalTextureTransform)||void 0===p?void 0:p.scale)?null===(h=c.normalTextureTransform)||void 0===h?void 0:h.scale:a.hq;i.set(u,new N.Gp({...n,transparent:m===E.JJ.Blend,customDepthTest:E.Gv.Lequal,textureAlphaMode:m,textureAlphaCutoff:c.alphaCutoff,diffuse:[r,x,g],ambient:[r,x,g],opacity:c.opacity,doubleSided:c.doubleSided,doubleSidedType:"winding-order",cullFace:c.doubleSided?E.Vr.None:E.Vr.Back,hasVertexColors:!!t.attributes.color,hasVertexTangents:!!t.attributes.tangent,normalType:f?A.r.Attribute:A.r.ScreenDerivative,castShadows:!0,receiveShadows:c.receiveShadows,receiveAmbientOcclusion:c.receiveAmbientOcclustion,textureId:null!=T?T.id:void 0,colorMixMode:c.colorMixMode,normalTextureId:null!=c.textureNormal&&d?s.get(c.textureNormal).id:void 0,textureAlphaPremultiplied:null!=T&&!!T.parameters.preMultiplyAlpha,occlusionTextureId:null!=c.textureOcclusion&&d?s.get(c.textureOcclusion).id:void 0,emissiveTextureId:null!=c.textureEmissive&&d?s.get(c.textureEmissive).id:void 0,metallicRoughnessTextureId:null!=c.textureMetallicRoughness&&d?s.get(c.textureMetallicRoughness).id:void 0,emissiveFactor:[v,y,b],mrrFactors:R?U.S7:[c.metallicFactor,c.roughnessFactor,n.mrrFactors[2]],isSchematic:R,colorTextureTransformMatrix:(0,B.i)(c.colorTextureTransform),normalTextureTransformMatrix:(0,B.i)(c.normalTextureTransform),scale:[S[0],S[1]],occlusionTextureTransformMatrix:(0,B.i)(c.occlusionTextureTransform),emissiveTextureTransformMatrix:(0,B.i)(c.emissiveTextureTransform),metallicRoughnessTextureTransformMatrix:(0,B.i)(c.metallicRoughnessTextureTransform),...o},l))}const x=i.get(u);if(r.stageResources.materials.push(x),d){const e=e=>{null!=e&&r.stageResources.textures.push(s.get(e))};e(c.textureColor),e(c.textureNormal),e(c.textureOcclusion),e(c.textureEmissive),e(c.textureMetallicRoughness)}return x}(l,e,J,t,r,c,d,n),{geometry:u,vertexCount:b}=function(e,t){const r=e.attributes.position.count,n=(0,T.p)(e.indices||r,e.primitiveType),s=(0,m.xx)(3*r),{typedBuffer:l,typedBufferStride:u}=e.attributes.position;(0,h.t)(s,l,e.transform,3,u);const a=[[F.T.POSITION,new O.a(s,n,3,!0)]];if(null!=e.attributes.normal){const t=(0,m.xx)(3*r),{typedBuffer:s,typedBufferStride:l}=e.attributes.normal;(0,i.XL)(j,e.transform),(0,h.b)(t,s,j,3,l),(0,o.oc)(j)&&(0,h.n)(t,t),a.push([F.T.NORMAL,new O.a(t,n,3,!0)])}if(null!=e.attributes.tangent){const t=(0,m.xx)(4*r),{typedBuffer:s,typedBufferStride:l}=e.attributes.tangent;(0,i.xO)(j,e.transform),(0,x.t)(t,s,j,4,l),(0,o.oc)(j)&&(0,h.n)(t,t,4),a.push([F.T.TANGENT,new O.a(t,n,4,!0)])}if(null!=e.attributes.texCoord0){const t=(0,m.xx)(2*r),{typedBuffer:o,typedBufferStride:i}=e.attributes.texCoord0;(0,g.a)(t,o,2,i),a.push([F.T.UV0,new O.a(t,n,2,!0)])}const c=e.attributes.color;if(null!=c){const t=new Uint8Array(4*r);4===c.elementCount?c instanceof p.ek?(0,x.b)(t,c,255):c instanceof p.mc?(0,y.a)(t,c):c instanceof p.v6&&(0,x.b)(t,c,1/256):(t.fill(255),c instanceof p.ct?(0,h.f)(t,c.typedBuffer,255,4,c.typedBufferStride):e.attributes.color instanceof p.ne?(0,v.c)(t,c.typedBuffer,4,e.attributes.color.typedBufferStride):e.attributes.color instanceof p.mw&&(0,h.f)(t,c.typedBuffer,1/256,4,c.typedBufferStride)),a.push([F.T.COLOR,new O.a(t,n,4,!0)])}return{geometry:new I.Z(t,a),vertexCount:r}}(e,null!==s&&void 0!==s?s:new N.Gp({},n)),S=u.boundingInfo;null!=S&&0===M&&((0,f.pp)(R,S.bbMin),(0,f.pp)(R,S.bbMax)),null!=s&&(J.stageResources.geometries.push(u),J.numberOfVertices+=b)})),_||u.push(J)})),{engineResources:u,referenceBoundingBox:R}}(_,k,G,t,R.specifiedLodIndex);return{lods:q,referenceBoundingBox:V,isEsriSymbolResource:_.meta.isEsriSymbolResource,isWosr:!1}}const j=(0,s.Ue)()},68845:(e,t,r)=>{r.d(t,{j:()=>n});const n=2.1}}]);
//# sourceMappingURL=7858.22aa466b.chunk.js.map